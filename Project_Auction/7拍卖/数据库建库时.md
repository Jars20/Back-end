建数据库时会遇到很多坑，现在将它们记录下来。

# 1. ENGINE=InnoDB\MyISAM
对比：
1. InnoDB支持事务，MyISAM不支持
2. MyISAM适合查询以及插入为主的应用，InnoDB适合频繁修改以及涉及到安全性较高的应用
3. InnoDB支持外键，MyISAM不支持
4. 从MySQL5.5.5以后，InnoDB是默认引擎
5. InnoDB不支持FULLTEXT类型的索引
6. InnoDB中不保存表的行数，如select count() from table时，InnoDB需要扫描一遍整个表来计算有多少行，但是MyISAM只要简单的读出保存好的行数即可。注意的是，当count()语句包含where条件时MyISAM也需要扫描整个表
7. 对于自增长的字段，InnoDB中必须包含只有该字段的索引，但是在MyISAM表中可以和其他字段一起建立联合索引
8. 清空整个表时，InnoDB是一行一行的删除，效率非常慢。MyISAM则会重建表
9. InnoDB支持行锁（某些情况下还是锁整表，如 update table set a=1 where user like ‘％lee％’。
>（https://zq.zhaopin.com/answer/6161223/）

# 2.float与double的选择
在设计数据表时，突然发现原来FLOAT原来是很不靠谱的，所以在这里建议大家换成DOUBLE类型，
原因是：
在数据库中的所有计算都是使用双精度完成的，使用float(单精度)会有误差，出现意想不到的结果。
在我们查询数据时，查询字段sumper值为5.54，sql语句：select * from app_mobile_device lo where lo.sumper= ‘5.54’；
但是结果却显示没有查到数据，实际是数据库中有sumper值为5.54的，这就是float类型造成的精度丢失的问题。一旦精度丢失了
float(5.54) = 5.54 这个是不等的。这样，本来我们应该能查到的数据就会莫名其妙的消失。

所以我们在设计数据库字段类型是小数类型时我们都用double类型，在数据库中也就是decimal类型。
当我们把字段的类型修改为decimal,我们再使用select * from app_mobile_device lo where lo.sumper= ‘5.54’；
结果我们就查出来了sumper为5.54的数据。所以我们在设计数据库使用小数字段类型千万不要选用float类型。
————————————————
原文链接：https://blog.csdn.net/shiAndyuanfang/java/article/details/84967352



# 