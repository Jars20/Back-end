# Redis
remote dictionary server  
Redis默认有16个数据库，用select切换  
支持多种数据结构

# Redis为什么单线程还这么快
- 误区1：高性能的服务器一定是多线程的？
- 误区2：多线程（CPU上下文会切换）一定比单线程效率高？  
CPU>内存>硬盘

核心：Redis是将所有的数据全部放在内存中，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文切换是会耗时的操作），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个cpu上，在内存情况下这就是最佳的方案

# Redis五大基本数据类型：
- String
- List
- Set
- Hash
- Zset
 
# Redis三种特殊的数据类型
- Geospatial地理位置
Redis3.2推出，定位，附近，距离计算
georadius db：table 经 纬 R km 

- Hyperloglog基数统计
位运算，统计key元素的基数数量，  
优点：占用内存固定，2^64不同元素的基数只需要12kb内存，比set节省很多空间，用于网站的计数统计

- Bitmap位图场景
使用bitmap（位）来记录每次的值

# 事务：
1. Redis的单条命令是保证原子性的，但是事务不保证原子性！
2. Redis事务没有隔离级别的概念，不存在幻读脏读不可重复读的情况。
    - 所有命令在事务中，并没有直接被执行，只有发起执行命令的时候才会执行。
3. Redis事务的本质：一组命令的集合，一个事务中的所有命令都会被序列化，在事务执行的过程中，会按照顺序执行  
    - 一次性、顺序性、排他性
# 事务执行三步    
- 开启事务（multi）
- 命令入队（……）
- 执行事务（exec）


- 取消事务（discard）

